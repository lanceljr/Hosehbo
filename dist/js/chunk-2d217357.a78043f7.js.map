{"version":3,"sources":["webpack:///./src/views/Profile.vue?6405","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?3600","webpack:///./src/views/Profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","username","_v","getUpcomingActivities","length","_l","activity","index","key","bgImage","title","startDate","id","_m","getPastActivities","staticRenderFns","staticStyle","components","name","data","interestList","activities_data","methods","getInterest","headers","console","log","response","getActivity","computed","upcoming_activities_arr","past_activities_arr","mounted","$router","push","component"],"mappings":"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","file":"js/chunk-2d217357.a78043f7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mt-4 mb-4 container-fluid\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-3\"},[_c('SideProfile',{attrs:{\"username\":_vm.username}})],1),_c('div',{staticClass:\"col-md-9\"},[_c('div',[_c('h3',{staticClass:\"fw-bold\"},[_vm._v(\"Upcoming Activities\")]),(_vm.getUpcomingActivities.length > 0)?_c('div',{staticClass:\"row\"},_vm._l((_vm.getUpcomingActivities),function(activity,index){return _c('div',{key:index,staticClass:\"col-12 col-sm-6 mt-3\"},[_c('ActivityCard',{attrs:{\"image\":activity.bgImage,\"title\":activity.title,\"startDate\":activity.startDate,\"itemId\":activity.id}})],1)}),0):_c('div',{staticClass:\"mb-4\"},[_vm._m(0)])]),_c('div',[_c('h3',{staticClass:\"fw-bold mt-5\"},[_vm._v(\"Past Activities\")]),(_vm.getPastActivities.length > 0)?_c('div',{staticClass:\"row\"},_vm._l((_vm.getPastActivities),function(activity,index){return _c('div',{key:index,staticClass:\"col-12 col-sm-6 mt-3\"},[_c('ActivityCard',{attrs:{\"image\":activity.bgImage,\"title\":activity.title,\"startDate\":activity.startDate,\"itemId\":activity.id}})],1)}),0):_c('div',[_vm._m(1)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"text-secondary mt-3\"},[_c('a',{staticStyle:{\"text-decoration\":\"none\",\"color\":\"black\"},attrs:{\"href\":\"./create-activity/step-1\"}},[_vm._v(\" Oops, looks like you don't have any upcoming activities yet. Create one now! \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col\"},[_c('p',{staticClass:\"text-secondary\"},[_vm._v(\"No past activities\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"mt-4 mb-4 container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-3\">\r\n        <SideProfile :username=\"username\"/>\r\n\r\n      </div>\r\n\r\n      <div class=\"col-md-9\">\r\n        <!-- UPCOMING ACTIVITIES -->\r\n\r\n        <div>\r\n          <h3 class=\"fw-bold\">Upcoming Activities</h3>\r\n\r\n          <div class=\"row\" v-if=\"getUpcomingActivities.length > 0\">\r\n            <div\r\n              class=\"col-12 col-sm-6 mt-3\"\r\n              v-for=\"(activity, index) in getUpcomingActivities\"\r\n              :key=\"index\"\r\n            >\r\n              <ActivityCard\r\n                :image=\"activity.bgImage\"\r\n                :title=\"activity.title\"\r\n                :startDate=\"activity.startDate\"\r\n                :itemId=\"activity.id\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else class=\"mb-4\">\r\n            <p class=\"text-secondary mt-3\"><a href=\"./create-activity/step-1\" style=\"text-decoration:none; color: black; \">\r\n              Oops, looks like you don't have any upcoming activities yet. \r\n              Create one now! </a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- show past activities -->\r\n        <div>\r\n          <h3 class=\"fw-bold mt-5\">Past Activities</h3>\r\n\r\n          <div class=\"row\" v-if=\"getPastActivities.length > 0\">\r\n            <div\r\n              class=\"col-12 col-sm-6 mt-3\"\r\n              v-for=\"(activity, index) in getPastActivities\"\r\n              :key=\"index\"\r\n            >\r\n              <ActivityCard\r\n                :image=\"activity.bgImage\"\r\n                :title=\"activity.title\"\r\n                :startDate=\"activity.startDate\"\r\n                :itemId=\"activity.id\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div v-else>\r\n            <div class=\"col\">\r\n              <p class=\"text-secondary\">No past activities</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from \"axios\";\r\nimport SideProfile from \"@/components/SideProfile.vue\";\r\nimport ActivityCard from \"@/components/ActivityCard.vue\";\r\n\r\n\r\nexport default {\r\n  components: { ActivityCard , SideProfile},\r\n  name: \"Profile\",\r\n  data() {\r\n    return {\r\n      interestList: [],\r\n      username: \"\",\r\n      activities_data: require(\"@/assets/sample_api_activities.json\"),\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getInterest() {\r\n      let bearer_token = window.localStorage.getItem(\"jwt\");\r\n      const config = {\r\n        headers: { authorization: `Bearer ${bearer_token}` },\r\n      };\r\n      let url = \"api/getUserDetails\";\r\n      axios.get(url, config).then((response) => {\r\n        console.log(response.data);\r\n        this.interestList = response.data.interests;\r\n        this.username = response.data.username;\r\n      });\r\n    },\r\n\r\n    getActivity() {\r\n      let bearer_token = window.localStorage.getItem(\"jwt\");\r\n      const config = {\r\n        headers: { authorization: `Bearer ${bearer_token}` },\r\n      };\r\n      let activity_url = \"api/myActivities\";\r\n      axios.get(activity_url, config).then((response) => {\r\n        this.activities_data = response.data;\r\n      });\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    getUpcomingActivities() {\r\n      let upcoming_activities_arr = [];\r\n      for (let activity of this.activities_data) {\r\n        let start_date = new Date(activity.StartDate);\r\n        let curr_date = new Date();\r\n\r\n        let date_diff = Math.floor(\r\n          (start_date - curr_date) / (1000 * 60 * 60 * 24)\r\n        );\r\n\r\n        if (date_diff >= 0) {\r\n          upcoming_activities_arr.push({\r\n            startDate: activity.StartDate,\r\n            startTime: activity.StartTime,\r\n            bgImage: activity.Image,\r\n            title: activity.Title,\r\n            id: activity._id\r\n          });\r\n        }\r\n      }\r\n\r\n      if (upcoming_activities_arr) {\r\n        return upcoming_activities_arr;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n\r\n    getPastActivities() {\r\n      let past_activities_arr = [];\r\n      for (let activity of this.activities_data) {\r\n        let start_date = new Date(activity.StartDate);\r\n        let curr_date = new Date();\r\n\r\n        let date_diff = Math.floor(\r\n          (start_date - curr_date) / (1000 * 60 * 60 * 24)\r\n        );\r\n        \r\n        if (date_diff < 0) {\r\n          past_activities_arr.push({\r\n            startDate: activity.StartDate,\r\n            startTime: activity.StartTime,\r\n            bgImage: activity.Image,\r\n            title: activity.Title,\r\n            id: activity._id\r\n\r\n          });\r\n        }\r\n      }\r\n\r\n      if (past_activities_arr) {\r\n        return past_activities_arr;\r\n      } else {\r\n        return null;\r\n      }\r\n    },\r\n\r\n  },\r\n\r\n  mounted: function() {\r\n    if(!this.$parent.loggedIn){\r\n      this.$router.push({ name: \"Login\", query:{ redirect : \"Profile\", msg : \"Oops! You must be logged in to access your profile page\"} });\r\n      return\r\n    }\r\n    this.getInterest();\r\n    this.getActivity()\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=6cb9795c&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}